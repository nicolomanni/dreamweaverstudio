@layer base {
  :root {
    --dw-bg: #f5f7fb;
    --dw-fg: #111827;
    --dw-primary: #6d5bff;
    --dw-secondary: #22b8ff;
    --dw-card: #ffffff;
    --dw-border: #e2e8f0;
    --dw-input: #d8e2f0;
  }

  .dark {
    --dw-bg: #0b0f1a;
    --dw-fg: #e9eef7;
    --dw-primary: #7c5cff;
    --dw-secondary: #22d3ee;
    --dw-card: #111827;
    --dw-border: #1f2a44;
    --dw-input: #1f2a44;
  }

  body {
    background-color: var(--dw-bg);
    color: var(--dw-fg);
  }
}

@layer utilities {
  @keyframes dw-fade-up {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes dw-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes dw-loading-bar {
    0% {
      transform: translateX(-60%);
    }
    50% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(60%);
    }
  }

  .dw-fade-up {
    animation: dw-fade-up 0.6s ease both;
  }

  .dw-fade-in {
    animation: dw-fade-in 0.8s ease both;
  }

  .dw-loading-bar {
    width: 45%;
    will-change: transform;
    background: linear-gradient(
      90deg,
      transparent,
      var(--dw-secondary),
      var(--dw-primary),
      transparent
    );
    border-radius: 9999px;
    box-shadow: 0 0 12px rgba(124, 92, 255, 0.5);
    animation: dw-loading-bar 1.15s ease-in-out infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    .dw-fade-up,
    .dw-fade-in {
      animation: none;
    }

    .dw-loading-bar {
      animation: none;
      transform: translateX(0);
      width: 100%;
    }
  }

  .bg-grid-pattern {
    background-size: 40px 40px;
    background-image: linear-gradient(
        to right,
        rgba(255, 255, 255, 0.05) 1px,
        transparent 1px
      ),
      linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.05) 1px,
        transparent 1px
      );
  }

  .dw-scrollbar-hidden {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .dw-scrollbar-hidden::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
}

@layer components {
  .dw-card {
    @apply rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-border dark:bg-card;
  }

  .dw-card-muted {
    @apply rounded-2xl border border-slate-200 bg-slate-50 dark:border-border dark:bg-background;
  }

  .dw-card-header {
    @apply flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 px-6 py-4 dark:border-border;
  }

  .dw-card-header-compact {
    @apply px-6 py-3;
  }

  .dw-card-body {
    @apply p-6;
  }

  .dw-card-body-sm {
    @apply p-5;
  }

  .dw-card-footer {
    @apply flex flex-wrap items-center justify-between gap-3 rounded-b-2xl border-t border-slate-200 px-6 py-4 dark:border-border;
  }

  .dw-card-footer-compact {
    @apply px-6 py-3;
  }

  .dw-btn {
    @apply inline-flex cursor-pointer items-center justify-center gap-2 rounded-full text-xs font-semibold uppercase tracking-[0.25em] transition-colors disabled:cursor-not-allowed disabled:opacity-60;
  }

  .dw-btn-sm {
    @apply h-8 px-3;
  }

  .dw-btn-md {
    @apply h-10 px-4;
  }

  .dw-btn-lg {
    @apply h-10 px-5;
  }

  .dw-btn-primary {
    @apply bg-primary text-white hover:bg-primary/90;
  }

  .dw-btn-outline {
    @apply border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 dark:border-border dark:bg-card dark:text-foreground/70;
  }

  .dw-btn-danger {
    @apply border border-rose-200 bg-rose-50 text-rose-600 hover:bg-rose-100 dark:border-rose-500/30 dark:bg-rose-500/10 dark:text-rose-200;
  }

  .dw-btn-ghost {
    @apply text-slate-500 hover:text-slate-700 dark:text-foreground/60 dark:hover:text-foreground;
  }

  .dw-btn-icon {
    @apply inline-flex cursor-pointer items-center justify-center rounded-full border transition-colors disabled:cursor-not-allowed disabled:opacity-60;
  }

  .dw-btn-icon-sm {
    @apply h-8 w-8;
  }

  .dw-btn-icon-md {
    @apply h-10 w-10;
  }

  .dw-btn-icon-outline {
    @apply border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 dark:border-border dark:bg-card dark:text-foreground/70;
  }

  .dw-btn-icon-ghost {
    @apply border border-transparent text-slate-600 hover:bg-slate-100 dark:text-foreground/70 dark:hover:bg-card/80;
  }

  .dw-btn-icon-danger {
    @apply border-rose-200 bg-rose-50 text-rose-600 hover:bg-rose-100 dark:border-rose-500/30 dark:bg-rose-500/10 dark:text-rose-200;
  }

  .dw-btn-icon-warn {
    @apply border-amber-200 bg-amber-50 text-amber-500 dark:border-amber-400/40 dark:bg-amber-400/10 dark:text-amber-200;
  }

  .dw-menu-item {
    @apply flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-sm text-slate-700 transition-colors hover:bg-slate-100 dark:text-foreground/80 dark:hover:bg-background/70;
  }

  .dw-label {
    @apply text-xs uppercase tracking-[0.25em] text-slate-400 dark:text-foreground/50;
  }

  .dw-label-inline {
    @apply text-sm font-semibold text-slate-500 md:flex md:h-10 md:items-center dark:text-foreground/60;
  }

  .dw-helper {
    @apply text-xs text-slate-500 dark:text-foreground/60;
  }

  .dw-input {
    @apply h-10 w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-sm text-slate-700 placeholder:text-slate-400 focus:border-primary focus:outline-none disabled:cursor-not-allowed disabled:bg-slate-200 disabled:text-slate-400 disabled:placeholder-slate-400 disabled:border-slate-300 disabled:opacity-60 dark:border-border dark:bg-background dark:text-foreground dark:placeholder:text-foreground/40 dark:disabled:bg-slate-900 dark:disabled:text-foreground/30 dark:disabled:border-slate-700;
  }

  .dw-input-sm {
    @apply h-8 px-3 text-xs;
  }

  .dw-input-error {
    @apply border-rose-300 bg-rose-50 text-rose-700 placeholder-rose-300 focus:border-rose-500 dark:border-rose-500/40 dark:bg-rose-500/10 dark:text-rose-100;
  }

  .dw-textarea {
    @apply w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-sm text-slate-700 placeholder:text-slate-400 focus:border-primary focus:outline-none disabled:cursor-not-allowed disabled:bg-slate-200 disabled:text-slate-400 disabled:placeholder-slate-400 disabled:border-slate-300 disabled:opacity-60 dark:border-border dark:bg-background dark:text-foreground dark:placeholder:text-foreground/40 dark:disabled:bg-slate-900 dark:disabled:text-foreground/30 dark:disabled:border-slate-700;
  }

  .dw-select {
    @apply h-10 w-full appearance-none rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 pr-10 text-sm text-slate-700 focus:border-primary focus:outline-none disabled:cursor-not-allowed disabled:bg-slate-200 disabled:text-slate-400 disabled:placeholder-slate-400 disabled:border-slate-300 disabled:opacity-60 dark:border-border dark:bg-background dark:text-foreground dark:disabled:bg-slate-900 dark:disabled:text-foreground/30 dark:disabled:border-slate-700;
  }

  .dw-select-sm {
    @apply h-8 px-3 text-xs;
  }
}
